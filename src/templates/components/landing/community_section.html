{# 
  Community Section Component
  Parameters:
  - title: Section title (default: "Join Our Growing Community")
  - description: Section description text
  - stats: List of stat objects with number and label
#}
{% macro community_section(
    title="Join Our Growing Community",
    description="You're not alone on this journey. Connect with like-minded believers who share your passion for faith, growth, and making a positive impact in the world.",
    stats=None
) %}
{% set default_stats = [
    {'number': '500+', 'label': 'Community Members'},
    {'number': '150+', 'label': 'Stories Shared'},
    {'number': '50+', 'label': 'Weekly Listeners'}
] %}

<section class="community-section">
    <div class="container">
        <div class="community-content">
            <div class="community-text">
                <h2>{{ title }}</h2>
                <p>{{ description }}</p>
                <div class="community-stats">
                    {% for stat in (stats or default_stats) %}
                    <div class="stat">
                        <span class="stat-number">{{ stat.number }}</span>
                        <span class="stat-label">{{ stat.label }}</span>
                    </div>
                    {% endfor %}
                </div>
            </div>
            <div class="community-image">
                <div class="community-illustration">
                    <svg viewBox="0 0 300 200" class="community-svg">
                        <defs>
                            <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:var(--accent-green);stop-opacity:0.6" />
                                <stop offset="100%" style="stop-color:var(--primary-soft-blue);stop-opacity:0.4" />
                            </linearGradient>
                        </defs>
                        <!-- Community circles -->
                        <circle cx="150" cy="100" r="80" fill="url(#grad2)" opacity="0.3"/>
                        <circle cx="120" cy="80" r="25" fill="var(--primary-soft-blue)" opacity="0.7"/>
                        <circle cx="180" cy="80" r="25" fill="var(--primary-gold)" opacity="0.7"/>
                        <circle cx="150" cy="130" r="25" fill="var(--accent-green)" opacity="0.7"/>
                        <circle cx="100" cy="120" r="20" fill="var(--primary-deep-blue)" opacity="0.6"/>
                        <circle cx="200" cy="120" r="20" fill="var(--primary-deep-blue)" opacity="0.6"/>
                        <!-- Connection lines -->
                        <line x1="150" y1="100" x2="120" y2="80" stroke="var(--primary-soft-blue)" stroke-width="2" opacity="0.5"/>
                        <line x1="150" y1="100" x2="180" y2="80" stroke="var(--primary-soft-blue)" stroke-width="2" opacity="0.5"/>
                        <line x1="150" y1="100" x2="150" y2="130" stroke="var(--primary-soft-blue)" stroke-width="2" opacity="0.5"/>
                    </svg>
                </div>
            </div>
        </div>
    </div>
</section>
{% endmacro %}
