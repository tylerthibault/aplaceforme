{% extends "bases/public_base.html" %}

{% block title %}{{ post.title }} - A Place For Me{% endblock %}

{% block main %}
<article class="content-detail">
    <div class="container-narrow">
        <header class="article-header">
            <h1>{{ post.title }}</h1>
            <div class="article-meta">
                <span class="author">By {{ post.author.username }}</span>
                <span class="date">{{ post.created_at.strftime('%B %d, %Y') }}</span>
                {% if post.updated_at and post.updated_at != post.created_at %}
                    <span class="updated">Updated {{ post.updated_at.strftime('%B %d, %Y') }}</span>
                {% endif %}
            </div>
        </header>

        <div class="article-content">
            {{ post.content | nl2br | safe }}
        </div>

        <footer class="article-footer">
            <div class="share-section">
                <h4>Share this post</h4>
                <div class="share-buttons">
                    <a href="https://twitter.com/intent/tweet?text={{ post.title | urlencode }}&url={{ request.url | urlencode }}" 
                       class="share-btn twitter" target="_blank" rel="noopener">
                        <i class="fab fa-twitter"></i> Twitter
                    </a>
                    <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.url | urlencode }}" 
                       class="share-btn facebook" target="_blank" rel="noopener">
                        <i class="fab fa-facebook-f"></i> Facebook
                    </a>
                    <a href="mailto:?subject={{ post.title | urlencode }}&body=I thought you might enjoy this article: {{ request.url | urlencode }}" 
                       class="share-btn email">
                        <i class="fas fa-envelope"></i> Email
                    </a>
                </div>
            </div>

            <div class="navigation-section">
                <a href="{{ url_for('main.blogs') }}" class="btn btn-outline">‚Üê Back to All Posts</a>
            </div>
        </footer>
    </div>
</article>

<!-- Related Posts Section (Optional) -->
<section class="related-content">
    <div class="container">
        <h2>You Might Also Enjoy</h2>
        <div class="related-grid">
            <!-- This would typically show related posts from the same author or category -->
            <div class="related-item">
                <h4><a href="{{ url_for('main.god_stories') }}">Read God Stories</a></h4>
                <p>Discover powerful testimonies of God's work in people's lives.</p>
            </div>
            <div class="related-item">
                <h4><a href="{{ url_for('main.music') }}">Listen to Music</a></h4>
                <p>Find soul-stirring worship songs and contemporary Christian music.</p>
            </div>
            <div class="related-item">
                <h4><a href="{{ url_for('main.testimonials') }}">Community Testimonials</a></h4>
                <p>Read real stories from our community members about their faith journeys.</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}
